"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var agent_1 = __importDefault(require("./agent"));
var SchedulerManager_1 = __importDefault(require("./scheduler/SchedulerManager"));
var AgentManager = (function () {
    var agent;
    var defaultOps = {};
    function createAgent(ops) {
        return new agent_1.default(ops);
    }
    return {
        getAgent: function () {
            if (!agent) {
                agent = this.initializeAgent(defaultOps);
            }
            return agent;
        },
        initializeAgent: function (ops) {
            if (!agent) {
                agent = createAgent(ops);
            }
            return agent;
        },
        /**
         * Destroy and remove the event listeners associated with the listeners
         */
        destroyAgent: function () {
            agent === null || agent === void 0 ? void 0 : agent.cleanAgentResources();
            agent = null;
            SchedulerManager_1.default.destroyScheduler();
        },
    };
})();
exports.default = AgentManager;
